#summary A guide on how to use the SiteParser to add your site to OnlineVideos.
= Table of Contents =
<wiki:toc max_depth="2" />

= Introduction =

The SiteParser is a tool that can be used for creating the necessary configuration parameters to add to the OnlineVideoSites.xml

You can start the siteparser by clicking this <img width="16" src="http://mp-onlinevideos2.googlecode.com/svn/trunk/OnlineVideos.MediaPortal1/Resources/CreateSite.png"/> button in the Online Videos Configuration, Sites-Tab
Or start the program "Onlinevideos.SiteCreator" in the Mediaportal Installation directory

= Description =

A website in OnlineVideos consists of Categories, optional Subcategories, and Videolists.
For each of these, the way of getting the correct information into OnlineVideos must be configured. Therefore, on the main screen, there are sections on which to create/test their configuration settings.

First of all, and the most important one is the baseurl: That must be the url that holds the categories you want to have in the OnlineVideos.
Most of the time, this is the url you type in your browser if you want to watch videos. However, sometimes this is buried a little deeper, and you have to use some other means to get that url (f.e. fiddler).

Once you have put the baseurl into it's place, you are ready to find the categories.
Click the "Create Regex" button in the Categories section, and start creating the Regex for it.
If you are ready with it, Click on the "GetCats" button, and you a "+" appearing at the right side (just left of "-site")

Expand that "+", and select some categories and see if the results at the bottom of the screen are satisfactory. If not, you can change the url-format, and enable url-decoding if necessary. After changing those, you need to click on "GetCats" to see the updated results.

= Menu Items =

 * File, Load Sites: Opens an existing OnlineVideoSites.xml for further testing/editing
 * ChoiceBox: If a file is opened, you can choose the site you want to test/edit
 * Load: loads the configuration of the site selected in the choicebox
 * Copy: copy the current configuration parameters as xml to the clipboard (So that you can easily paste them in the OnlineVideoSites.xml

= Step by step (simple version) =

 # for baseurl: fill the url of the page with the categories on it
 # click on "Create Regex" on the "Category" tab, and create the regex
 # click on "GetCats" on the "Category" tab. You should now see the categories listed under "site" at the right panel
 # if there are subcategories present then select a category, and goto the subcategories tab, if notL skip next step
 # click on "Create Regex" and after that on GetSubcats. then select a subcategory
 # goto the "VideoList" tab, and click on "Create Regex".
 # create the regex, and after that, click "GetVideoList"
 # now you should see the video's listed under the selected (sub)category
 # select a video, and click on the "VideoUrl" tab.
 # click "GetVideoUrl", click "GetPlaylistUrl" and click "Create Regex" next to "GetFileUrl"
 # create the regex
 # choose the url under "ResultUrl" and hit the play-button to verify
 # click "Copy" in the main menu, open onlinevideosites.xml in your favourite texteditor, and paste the configuration in it. Then remove the categories (lines starting with <Category xsi:type="RssLink") that are to be dynamically discovered.
 # Save the file, and enjoy your new creation!
 # After the final approvement, you can publish the site through the onlinevideos configuration